<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/head.html :: head"></head>

<style>
    .search-container {
        display: flex;
        align-items: center;
        background: #f1f1f1;
        padding: 5px;
        border-radius: 20px;
        width: 100%;
        max-width: 600px;
    }

    .search-input {
        border: none;
        outline: none;
        padding: 8px;
        flex: 1;
        border-radius: 20px;
        background: transparent;
        width: 100%;
    }

    .search-button {
        background: #ff9800;
        border: none;
        padding: 8px 12px;
        cursor: pointer;
        border-radius: 20px;
        color: white;
    }
    
    .slideshow-container {
        position: relative;
        max-width: 600px;
        margin: auto;
        overflow: hidden;
    }

    .slide {
        display: none;
    }

    .slide img {
        width: 100%;
        height: auto;
        border-radius: 10px;
    }

    .fade {
        animation-name: fade;
        animation-duration: 1s;
    }

    @keyframes fade {
        from { opacity: 0.4; }
        to { opacity: 1; }
    }
</style>

<body>

<th:block>
    <div th:replace="fragments/header.html :: header"></div>
</th:block>

<div class="slideshow-container">
    <div class="slide fade">
        <img src="https://res.cloudinary.com/mgpavlov/image/upload/v1555205797/frontPage.jpg" alt="Item 1">
    </div>
    <div class="slide fade">
        <img src="https://res.cloudinary.com/mgpavlov/image/upload/v1555205797/frontPage.jpg" alt="Item 2">
    </div>
    <div class="slide fade">
        <img src="https://res.cloudinary.com/mgpavlov/image/upload/v1555205797/frontPage.jpg" alt="Item 3">
    </div>
</div>

<div class="search-container">
    <form th:action="@{/search}" method="get">
        <input type="text" class="search-input" name="query" placeholder="Search for products...">
        <button class="search-button" type="submit">üîç</button>
    </form>
</div>

<main>
    <h3 th:if="${greeting != null and #authentication != null}" 
        th:text="|${greeting}, ${#authentication.getPrincipal().getUsername()}!|" 
        class="text-center brush-script"></h3>
    <h3 th:if="${greeting != null and #authentication == null}" 
        th:text="|${greeting}, Guest!|" 
        class="text-center brush-script"></h3>
    <div>
        <div class="row d-flex justify-content-between">
            <div class="data col-md">
                <h1 class="text-center brush-script font-weight-bold" id="categoryTittle" th:text="|All Products|"></h1>
                <div id="searchBar" class="input-group w-25">
                    <span class="input-group-btn">
                        <button class="btn btn-secondary mr-1" onclick="findProductByProductName()">
                            <i class="fas fa-search"></i> Find
                        </button>
                    </span>
                    <input type="text" th:name="username"
                           class="form-control w-50" id="inputProductName"
                           placeholder="Product name..."/>
                </div>
            </div>
            <div class="print-container container-fluid">
                <div class="row mb-4 d-flex justify-content-start products-data">

                </div>
            </div>
        </div>
    </div>
</main>

<th:block>
    <div th:replace="fragments/footer.html :: footer"></div>
</th:block>

<script th:src="@{/js/home.js}"></script>
<script th:src="@{/js/product-search.js}"></script>

</body>
</html>